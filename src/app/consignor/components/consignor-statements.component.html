
    <div class="statements-container">
      <!-- Header -->
      <div class="statements-header">
        <h1>Monthly Statements</h1>
        <div class="header-info">
          <p>View your monthly earnings statements and download PDFs</p>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="loadingService.isLoading(KEYS.STATEMENTS_LIST)" class="loading-container">
        <div class="loading-spinner"></div>
        <p>Loading statements...</p>
      </div>

      <!-- Error State -->
      <div *ngIf="error" class="error-container">
        <div class="error-icon">‚ö†Ô∏è</div>
        <h3>Unable to load statements</h3>
        <p>{{ error }}</p>
        <button class="btn btn-primary" (click)="loadStatements()">Try Again</button>
      </div>

      <!-- Empty State -->
      <div *ngIf="!loadingService.isLoading(KEYS.STATEMENTS_LIST) && !error && (!statements || statements.length === 0)" class="empty-state">
        <div class="empty-icon">üìÑ</div>
        <h3>No statements available</h3>
        <p>Your monthly statements will appear here once you have sales activity.</p>
      </div>

      <!-- Statements List -->
      <div *ngIf="!loadingService.isLoading(KEYS.STATEMENTS_LIST) && !error && statements && statements.length > 0" class="statements-list">
        <div class="statements-grid">
          <div
            *ngFor="let statement of statements; trackBy: trackByStatementId"
            class="statement-card"
            [class.new]="isNewStatement(statement)">

            <!-- Statement Header -->
            <div class="statement-header">
              <h3 class="statement-period">{{ statement.periodLabel }}</h3>
              <div class="statement-status" [class]="getStatusClass(statement.status)">
                {{ statement.status }}
              </div>
            </div>

            <!-- Statement Summary -->
            <div class="statement-summary">
              <div class="summary-row">
                <span class="summary-label">Statement #</span>
                <span class="summary-value">{{ statement.statementNumber }}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Items Sold</span>
                <span class="summary-value">{{ statement.itemsSold }}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Total Earnings</span>
                <span class="summary-value earnings">{{ statement.totalEarnings | currency }}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Payouts</span>
                <span class="summary-value">{{ statement.payoutCount }}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Closing Balance</span>
                <span class="summary-value balance">{{ statement.closingBalance | currency }}</span>
              </div>
            </div>

            <!-- Statement Period -->
            <div class="statement-period-detail">
              <div class="period-dates">
                <span class="period-start">{{ formatDate(statement.periodStart) }}</span>
                <span class="period-separator">‚Äî</span>
                <span class="period-end">{{ formatDate(statement.periodEnd) }}</span>
              </div>
              <div class="generated-date">
                Generated {{ formatDate(statement.generatedAt) }}
              </div>
            </div>

            <!-- Actions -->
            <div class="statement-actions">
              <button
                class="btn btn-primary"
                [routerLink]="['/consignor/statements', statement.statementId]">
                View Details
              </button>

              <button
                class="btn btn-secondary"
                (click)="downloadPdf(statement)"
                [disabled]="!statement.hasPdf || loadingService.isLoading(KEYS.STATEMENT_PDF)">
                <span *ngIf="loadingService.isLoading(KEYS.STATEMENT_PDF)">Downloading...</span>
                <span *ngIf="!loadingService.isLoading(KEYS.STATEMENT_PDF)">
                  {{ statement.hasPdf ? 'Download PDF' : 'PDF Not Available' }}
                </span>
              </button>
            </div>

            <!-- New Badge -->
            <div *ngIf="isNewStatement(statement)" class="new-badge">
              New
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Stats -->
      <div *ngIf="!loadingService.isLoading(KEYS.STATEMENTS_LIST) && !error && statements && statements.length > 0" class="quick-stats">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-value">{{ statements.length }}</div>
            <div class="stat-label">Total Statements</div>
          </div>
          <div class="stat-card">
            <div class="stat-value">{{ getTotalEarnings() | currency }}</div>
            <div class="stat-label">Total Earnings</div>
          </div>
          <div class="stat-card">
            <div class="stat-value">{{ getCurrentBalance() | currency }}</div>
            <div class="stat-label">Current Balance</div>
          </div>
          <div class="stat-card">
            <div class="stat-value">{{ getTotalItemsSold() }}</div>
            <div class="stat-label">Items Sold</div>
          </div>
        </div>
      </div>
    </div>
  