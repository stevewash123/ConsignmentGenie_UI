
    <div class="consignor-dashboard">
      <!-- Welcome Section -->
      <div class="welcome-section">
        <h1>{{dashboard?.shopName || 'Consignor Dashboard'}}</h1>
        <h2>Welcome back, {{dashboard?.providerName || 'Consignor'}}!</h2>
      </div>

      <!-- Agreement Banner -->
      <div class="agreement-banner" *ngIf="showAgreementBanner()">
        <div class="agreement-banner-content">
          <div class="agreement-banner-icon">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <div class="agreement-banner-text">
            <h3>Agreement Required</h3>
            <p *ngIf="agreementStatus()?.type === 'acknowledge'">Please review and acknowledge the consignment agreement to continue.</p>
            <p *ngIf="agreementStatus()?.type === 'upload'">Please download, sign, and upload your consignment agreement to continue.</p>
          </div>
          <div class="agreement-banner-actions">
            <a routerLink="/consignor/agreement" class="agreement-action-btn">
              Complete Agreement
            </a>
          </div>
        </div>
      </div>

      <div class="dashboard-content" *ngIf="dashboard">
        <!-- Earnings Widget -->
        <app-earnings-widget></app-earnings-widget>

        <!-- Metrics Cards -->
        <div class="metrics-grid">
          <div class="metric-card">
            <div class="metric-title">MY ITEMS</div>
            <div class="metric-title">ON FLOOR</div>
            <div class="metric-value">{{dashboard.availableItems}}</div>
          </div>

          <div class="metric-card">
            <div class="metric-title">SOLD THIS</div>
            <div class="metric-title">MONTH</div>
            <div class="metric-value">{{dashboard.soldItems}}</div>
          </div>

          <div class="metric-card">
            <div class="metric-title">ALL-TIME</div>
            <div class="metric-title">EARNINGS</div>
            <div class="metric-value">\${{dashboard.totalEarningsAllTime.toFixed(2)}}</div>
          </div>
        </div>

        <!-- Recent Sales -->
        <div class="section">
          <div class="section-header">
            <h3>Recent Sales</h3>
            <a routerLink="/consignor/sales" class="view-all-link">View All →</a>
          </div>
          <div class="sales-table">
            <div class="table-header">
              <div class="col">Date</div>
              <div class="col">Item</div>
              <div class="col">Price</div>
              <div class="col">You earn</div>
            </div>
            <div class="table-row" *ngFor="let sale of dashboard.recentSales">
              <div class="col">{{formatDate(sale.saleDate)}}</div>
              <div class="col">{{sale.itemTitle}}</div>
              <div class="col">\${{sale.salePrice.toFixed(2)}}</div>
              <div class="col">\${{sale.myEarnings.toFixed(2)}}</div>
            </div>
            <div class="no-data" *ngIf="dashboard.recentSales.length === 0">
              No recent sales
            </div>
          </div>
        </div>

        <!-- Last Payout -->
        <div class="section">
          <div class="section-header">
            <h3>Last Payout</h3>
            <a routerLink="/consignor/payouts" class="view-all-link">View Payout History →</a>
          </div>
          <div class="payout-info" *ngIf="dashboard.lastPayout">
            <div class="payout-row">
              <div class="col">{{formatDate(dashboard.lastPayout.payoutDate)}}</div>
              <div class="col">\${{dashboard.lastPayout.amount.toFixed(2)}}</div>
              <div class="col">{{dashboard.lastPayout.itemCount}} items</div>
              <div class="col">Via {{dashboard.lastPayout.paymentMethod}}</div>
            </div>
          </div>
          <div class="no-data" *ngIf="!dashboard.lastPayout">
            No payouts yet
          </div>
        </div>
      </div>

      <!-- Loading State -->
      <div class="loading" *ngIf="!dashboard && !error">
        <p>Loading dashboard...</p>
      </div>

      <!-- Error State -->
      <div class="error" *ngIf="error">
        <p>{{error}}</p>
      </div>
    </div>
  