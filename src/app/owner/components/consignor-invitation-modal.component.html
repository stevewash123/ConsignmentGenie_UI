
    <div class="modal-overlay" *ngIf="isVisible()" (click)="onOverlayClick($event)">
      <div class="modal" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h3>Invite consignor</h3>
          <button class="close-btn" (click)="close.emit()">Ã—</button>
        </div>

        <div class="modal-body">
          <form (ngSubmit)="onSubmit()" #inviteForm="ngForm">
            <div class="form-group">
              <label for="providerName">consignor Name *</label>
              <input
                type="text"
                id="providerName"
                name="providerName"
                [(ngModel)]="invitation.name"
                required
                #nameField="ngModel"
                class="form-control"
                [class.error]="nameField.invalid && nameField.touched"
                placeholder="Enter consignor's full name"
              >
              <div class="error-message" *ngIf="nameField.invalid && (nameField.dirty || nameField.touched)">
                consignor name is required
              </div>
            </div>

            <div class="form-group">
              <label for="providerEmail">Email Address *</label>
              <input
                type="email"
                id="providerEmail"
                name="providerEmail"
                [(ngModel)]="invitation.email"
                required
                email
                #emailField="ngModel"
                class="form-control"
                [class.error]="emailField.invalid && emailField.touched"
                placeholder="Enter consignor's email"
              >
              <div class="error-message" *ngIf="emailField.invalid && (emailField.dirty || emailField.touched)">
                <span *ngIf="emailField.errors?.['required']">Email is required</span>
                <span *ngIf="emailField.errors?.['email']">Please enter a valid email</span>
              </div>
            </div>

            <div class="form-actions">
              <button type="button" class="btn-secondary" (click)="close.emit()">
                Cancel
              </button>
              <button
                type="submit"
                class="btn-primary"
                [disabled]="inviteForm.invalid || isSubmitting()"
              >
                {{ isSubmitting() ? 'Sending...' : 'Send Invitation' }}
              </button>
            </div>
          </form>

          <div class="success-message" *ngIf="successMessage()">
            {{ successMessage() }}
          </div>

          <div class="error-message" *ngIf="errorMessage()">
            {{ errorMessage() }}
          </div>
        </div>
      </div>
    </div>
  