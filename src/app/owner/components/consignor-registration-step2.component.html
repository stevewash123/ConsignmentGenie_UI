
    <div class="registration-container">
      <div class="registration-card">
        <!-- Header -->
        <div class="registration-header">
          <button class="back-button" (click)="goBack()">
            ‚Üê Back
          </button>
          <h1>Complete Your Profile</h1>
          <p class="shop-info" *ngIf="shopName()">
            You're joining <strong>{{ shopName() }}</strong>
          </p>
          <p class="step-info">Step 2 of 2: Tell us about yourself</p>
        </div>

        <!-- Profile Form -->
        <form (ngSubmit)="onSubmit()" #profileForm="ngForm" *ngIf="!isSubmitted()">
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First Name *</label>
              <input
                type="text"
                id="firstName"
                name="firstName"
                [(ngModel)]="details.firstName"
                required
                #firstNameField="ngModel"
                class="form-control"
                [class.error]="firstNameField.invalid && firstNameField.touched"
                placeholder="Enter your first name">
              <div class="error-message" *ngIf="firstNameField.invalid && firstNameField.touched">
                First name is required
              </div>
            </div>

            <div class="form-group">
              <label for="lastName">Last Name *</label>
              <input
                type="text"
                id="lastName"
                name="lastName"
                [(ngModel)]="details.lastName"
                required
                #lastNameField="ngModel"
                class="form-control"
                [class.error]="lastNameField.invalid && lastNameField.touched"
                placeholder="Enter your last name">
              <div class="error-message" *ngIf="lastNameField.invalid && lastNameField.touched">
                Last name is required
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              [(ngModel)]="details.phone"
              #phoneField="ngModel"
              class="form-control"
              placeholder="(555) 123-4567">
          </div>

          <div class="form-group">
            <label for="address">Street Address (Work in Progress)</label>
            <input
              type="text"
              id="address"
              name="address"
              [(ngModel)]="details.address"
              #addressField="ngModel"
              class="form-control"
              placeholder="123 Main Street">
            <div class="form-hint">Coming soon - mailing address for payments</div>
          </div>

          <div class="form-group">
            <label for="city">City (Work in Progress)</label>
            <input
              type="text"
              id="city"
              name="city"
              [(ngModel)]="details.city"
              #cityField="ngModel"
              class="form-control"
              placeholder="Your city">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="state">State (Work in Progress)</label>
              <input
                type="text"
                id="state"
                name="state"
                [(ngModel)]="details.state"
                #stateField="ngModel"
                class="form-control"
                placeholder="CA">
            </div>

            <div class="form-group">
              <label for="zipCode">ZIP Code (Work in Progress)</label>
              <input
                type="text"
                id="zipCode"
                name="zipCode"
                [(ngModel)]="details.zipCode"
                #zipCodeField="ngModel"
                class="form-control"
                placeholder="90210">
            </div>
          </div>

          <div class="form-actions">
            <button
              type="submit"
              class="btn-primary"
              [disabled]="profileForm.invalid || isSubmitting()">
              {{ isSubmitting() ? 'Creating Account...' : 'Complete Registration' }}
            </button>
          </div>

          <div class="error-message" *ngIf="errorMessage()">
            {{ errorMessage() }}
          </div>
        </form>

        <!-- Success State -->
        <div class="success-state" *ngIf="isSubmitted()">
          <div class="success-icon">üéâ</div>
          <h2>Welcome to {{ shopName() }}!</h2>
          <p>
            Your consignor account has been created successfully.
          </p>
          <p>
            You can now sign in and start managing your consigned items with {{ shopName() }}.
          </p>
          <button class="btn-primary" (click)="goToLogin()">
            Sign In to Your Account
          </button>
        </div>

        <!-- Invalid State -->
        <div class="error-state" *ngIf="isInvalidRegistration()">
          <div class="error-icon">‚ö†Ô∏è</div>
          <h2>Registration Session Expired</h2>
          <p>
            Your registration session has expired. Please start over with a fresh invitation link.
          </p>
          <button class="btn-secondary" (click)="goToHome()">
            Go to Home
          </button>
        </div>
      </div>
    </div>
  