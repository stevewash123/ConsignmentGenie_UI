<div class="consignor-list-container">
        <!-- Page Header -->
        <div class="header">
          <h1 class="page-title">
            <span>üë•</span>
            {{ labels.providerManagement }}
          </h1>
          <div class="header-actions">
            <button class="btn-secondary" (click)="showBulkInviteModal()">
              <span>üìÑ</span>
              Bulk Invite
            </button>
            <button class="btn-primary" (click)="showInviteModal()">
              <span>‚úâÔ∏è</span>
              {{ labels.inviteProvider }}
            </button>
          </div>
        </div>

        <!-- Loading State -->
        <div *ngIf="isconsignorsLoading()" class="loading">
          ‚è≥ Loading consignor data...
        </div>

        <!-- Content Sections -->
        <div *ngIf="!isconsignorsLoading()" class="content-sections">

          <!-- Active Consignors Section -->
          <div class="section">
            <div class="section-header">
              <h3>ACTIVE CONSIGNORS ({{ consignors().length }})</h3>
            </div>

            <div *ngIf="consignors().length > 0" class="table-container">
              <table class="consignor-table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Items</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let consignor of consignors(); trackBy: trackByProvider"
                      [class.pending-approval]="isPendingApproval(consignor)">
                    <td class="name-cell">
                      {{ consignor.name }}
                      <span *ngIf="isPendingApproval(consignor)" class="pending-badge">PENDING APPROVAL</span>
                    </td>
                    <td class="email-cell">{{ consignor.email }}</td>
                    <td class="items-cell">{{ getProviderItemCount(consignor) }}</td>
                    <td class="actions-cell">
                      <div class="action-buttons">
                        <!-- Approval buttons for pending consignors -->
                        <ng-container *ngIf="isPendingApproval(consignor)">
                          <button class="btn-approve" (click)="approveConsignor(consignor)">
                            <span>‚úÖ</span>
                            Approve
                          </button>
                          <button class="btn-reject" (click)="rejectConsignor(consignor)">
                            <span>‚ùå</span>
                            Reject
                          </button>
                        </ng-container>

                        <!-- Regular buttons for approved consignors -->
                        <ng-container *ngIf="!isPendingApproval(consignor)">
                          <button class="btn-view" [routerLink]="['/owner/consignors', consignor.id]">
                            <span>üëÅÔ∏è</span>
                          </button>
                          <button class="btn-message"
                                  (click)="sendMessage(consignor)"
                                  title="Send message">
                            <span>üí¨</span>
                          </button>
                          <button class="btn-email"
                                  (click)="emailAgreement(consignor)"
                                  title="Email agreement">
                            <span>üìß</span>
                          </button>
                          <button class="btn-download"
                                  (click)="downloadSignedAgreement(consignor)"
                                  title="Download signed agreement">
                            <span>üìÑ</span>
                          </button>
                        </ng-container>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div *ngIf="consignors().length === 0" class="empty-section">
              <p>üì≠ No active consignors yet</p>
            </div>
          </div>

          <!-- Pending Invitations Section -->
          <div class="section" *ngIf="pendingInvitations().length > 0">
            <div class="section-header">
              <h3>PENDING INVITATIONS ({{ pendingInvitations().length }})</h3>
            </div>

            <div class="table-container">
              <table class="invitations-table">
                <thead>
                  <tr>
                    <th>Email</th>
                    <th>Sent</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let invitation of pendingInvitations()">
                    <td class="email-cell">{{ invitation.email }}</td>
                    <td class="sent-cell">{{ getRelativeTime(invitation.createdAt) }}</td>
                    <td class="actions-cell">
                      <div class="action-buttons">
                        <button class="btn-resend" (click)="resendInvitation(invitation.id)">
                          <span>üîÑ</span>
                          Resend
                        </button>
                        <button class="btn-cancel" (click)="cancelInvitation(invitation.id)">
                          <span>‚ùå</span>
                          Cancel
                        </button>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Empty State for No Data -->
          <div *ngIf="consignors().length === 0 && pendingInvitations().length === 0" class="empty-state">
            <h4>üöÄ Get Started</h4>
            <p>No consignors yet. Invite your first consignor to get started.</p>
          </div>

        </div>
      </div>

      <!-- Invite Consignor Modal -->
      <app-invite-consignor-modal
        *ngIf="isInviteModalVisible()"
        (closed)="hideInviteModal()"
        (consignorAdded)="onConsignorAdded($event)">
      </app-invite-consignor-modal>

      <!-- Bulk Invite Consignor Modal -->
      <app-bulk-invite-consignor-modal
        *ngIf="isBulkInviteModalVisible()"
        (closed)="hideBulkInviteModal()"
        (invitesSent)="onBulkInvitesSent()">
      </app-bulk-invite-consignor-modal>