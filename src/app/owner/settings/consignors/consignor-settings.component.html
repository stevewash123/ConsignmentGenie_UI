<div class="consignor-settings">
  <div class="settings-header">
    <h2>Default Consignor Terms</h2>
    <p>Configure default terms that apply to all new consignors</p>
  </div>

  <div class="settings-form" *ngIf="settings()">
    <!-- Default Consignor Terms -->
    <div class="form-section">
      <h3>Default Consignor Terms</h3>
      <p class="section-description">
        These terms apply to all new consignors by default. You can customize them per consignor later.
      </p>

      <div class="form-group">
        <label for="shopCommissionPercent">Shop Commission (%)</label>
        <input
          type="number"
          id="shopCommissionPercent"
          [(ngModel)]="settings()!.defaults.shopCommissionPercent"
          (ngModelChange)="onDefaultsChange()"
          name="shopCommissionPercent"
          class="form-input number-input"
          min="1"
          max="99"
          placeholder="50">
        <div class="field-hint">Consignor receives the remaining percentage ({{ 100 - (settings()?.defaults?.shopCommissionPercent || 0) }}%)</div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="consignmentPeriodDays">Consignment Period (days)</label>
          <input
            type="number"
            id="consignmentPeriodDays"
            [(ngModel)]="settings()!.defaults.consignmentPeriodDays"
            (ngModelChange)="onDefaultsChange()"
            name="consignmentPeriodDays"
            class="form-input number-input"
            min="1"
            placeholder="90">
          <div class="field-hint">How long items stay on sale</div>
        </div>

        <div class="form-group">
          <label for="retrievalPeriodDays">Retrieval Period (days)</label>
          <input
            type="number"
            id="retrievalPeriodDays"
            [(ngModel)]="settings()!.defaults.retrievalPeriodDays"
            (ngModelChange)="onDefaultsChange()"
            name="retrievalPeriodDays"
            class="form-input number-input"
            min="1"
            placeholder="14">
          <div class="field-hint">How long consignors have to pick up unsold items</div>
        </div>
      </div>

      <div class="form-group">
        <label for="unsoldItemPolicy">Unclaimed Item Policy</label>
        <select
          id="unsoldItemPolicy"
          [(ngModel)]="settings()!.defaults.unsoldItemPolicy"
          (ngModelChange)="onDefaultsChange()"
          name="unsoldItemPolicy"
          class="form-select">
          <option value="return-to-consignor">Return to consignor</option>
          <option value="become-shop-property">Become shop property</option>
          <option value="donate">Donate to charity</option>
          <option value="dispose">Dispose of items</option>
        </select>
        <div class="field-hint">What happens to items left unclaimed after the retrieval period</div>
      </div>
    </div>

  </div>

  <!-- Messages -->
  <div class="messages" *ngIf="successMessage() || errorMessage()">
    <div *ngIf="successMessage()" class="message success">{{ successMessage() }}</div>
    <div *ngIf="errorMessage()" class="message error">{{ errorMessage() }}</div>
  </div>
</div>