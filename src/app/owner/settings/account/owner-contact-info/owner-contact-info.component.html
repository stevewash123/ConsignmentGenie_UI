<div class="owner-contact-info">
  <header class="settings-header">
    <h2>Owner Contact Information</h2>
    <p>Manage your business and personal contact details</p>
  </header>

  <div *ngIf="successMessage()" class="message success">{{ successMessage() }}</div>
  <div *ngIf="errorMessage()" class="message error">{{ errorMessage() }}</div>

  <div *ngIf="profile()">
    <!-- Business Information -->
    <section class="form-section">
      <h3>Business Information</h3>

      <div class="form-row">
        <div class="form-group">
          <label for="shopName">Business Name</label>
          <input
            id="shopName"
            type="text"
            class="form-input"
            [value]="profile()?.shopName || ''"
            (input)="onShopNameChange($any($event.target).value)"
            placeholder="Your business name">
        </div>

        <div class="form-group">
          <label for="shopEmail">Email Address</label>
          <input
            id="shopEmail"
            type="email"
            class="form-input"
            [value]="profile()?.shopEmail || ''"
            (input)="onShopEmailChange($any($event.target).value)"
            placeholder="your@email.com">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="shopPhone">Phone Number</label>
          <input
            id="shopPhone"
            type="tel"
            class="form-input"
            [value]="getFormattedPhone()"
            (input)="onShopPhoneChange($event)"
            placeholder="(555) 123-4567">
        </div>

        <div class="form-group">
          <label for="shopWebsite">Website</label>
          <input
            id="shopWebsite"
            type="url"
            class="form-input"
            [value]="profile()?.shopWebsite || ''"
            (input)="onShopWebsiteChange($any($event.target).value)"
            placeholder="https://yourstore.com">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="shopDescription">Business Description</label>
          <textarea
            id="shopDescription"
            class="form-input"
            rows="3"
            [value]="profile()?.shopDescription || ''"
            (input)="onShopDescriptionChange($any($event.target).value)"
            placeholder="Tell customers about your business..."></textarea>
        </div>
      </div>
    </section>

    <!-- Business Address -->
    <section class="form-section">
      <h3>Business Address</h3>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="shopAddress1">Street Address</label>
          <input
            id="shopAddress1"
            type="text"
            class="form-input"
            [value]="profile()?.shopAddress1 || ''"
            (input)="onShopAddress1Change($any($event.target).value)"
            placeholder="123 Main Street">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="shopAddress2">Address Line 2 (Optional)</label>
          <input
            id="shopAddress2"
            type="text"
            class="form-input"
            [value]="profile()?.shopAddress2 || ''"
            (input)="onShopAddress2Change($any($event.target).value)"
            placeholder="Suite, unit, building, floor, etc.">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="shopCity">City</label>
          <input
            id="shopCity"
            type="text"
            class="form-input"
            [value]="profile()?.shopCity || ''"
            (input)="onShopCityChange($any($event.target).value)"
            placeholder="Portland">
        </div>

        <div class="form-group">
          <label for="shopState">State</label>
          <input
            id="shopState"
            type="text"
            class="form-input"
            [value]="profile()?.shopState || ''"
            (input)="onShopStateChange($any($event.target).value)"
            placeholder="OR"
            maxlength="2">
        </div>

        <div class="form-group">
          <label for="shopZip">ZIP Code</label>
          <input
            id="shopZip"
            type="text"
            class="form-input"
            [value]="profile()?.shopZip || ''"
            (input)="onShopZipChange($any($event.target).value)"
            placeholder="97201">
        </div>
      </div>
    </section>

    <!-- Timezone -->
    <section class="form-section">
      <h3>Store Settings</h3>

      <div class="form-row">
        <div class="form-group">
          <label for="shopTimezone">Timezone</label>
          <select
            id="shopTimezone"
            class="form-input"
            [value]="profile()?.shopTimezone || 'America/New_York'"
            (change)="onShopTimezoneChange($any($event.target).value)">
            <option value="America/New_York">Eastern Time</option>
            <option value="America/Chicago">Central Time</option>
            <option value="America/Denver">Mountain Time</option>
            <option value="America/Los_Angeles">Pacific Time</option>
            <option value="America/Anchorage">Alaska Time</option>
            <option value="Pacific/Honolulu">Hawaii Time</option>
          </select>
        </div>
      </div>
    </section>    

    <!-- Form Actions -->
    <div class="form-actions">
      <button type="button" (click)="resetToDefaults()" class="btn-secondary">
        Reset to Server Values
      </button>
    </div>
  </div>
</div>