
    <div class="account-settings">
      <div class="settings-header">
        <h2>Account & Security</h2>
        <p>Manage your personal information, authentication methods, and security settings</p>
      </div>

      <!-- Profile Information -->
      <div class="settings-section">
        <h3>Profile Information</h3>
        <div class="profile-form" *ngIf="userProfile()">
          <div class="form-group">
            <label for="fullName">Name</label>
            <input
              type="text"
              id="fullName"
              [(ngModel)]="userProfile()!.name"
              class="form-input"
              placeholder="Your full name">
          </div>

          <div class="form-group">
            <label for="email">Email</label>
            <input
              type="email"
              id="email"
              [(ngModel)]="userProfile()!.email"
              class="form-input"
              placeholder="your@email.com">
          </div>

          <div class="form-actions">
            <button class="btn-secondary" (click)="loadUserProfile()">Cancel</button>
            <button class="btn-primary" (click)="saveProfile()" [disabled]="isSaving()">
              {{ isSaving() ? 'Saving...' : 'Save Changes' }}
            </button>
          </div>
        </div>
      </div>

      <!-- Account Security Component -->
      <div class="settings-section">
        <app-account-security
          [userId]="getCurrentUserId()"
          [enabledProviders]="['google', 'facebook']"
          [show2FA]="true"
          [showActiveSessions]="true">
        </app-account-security>
      </div>

      <!-- Account License -->
      <div class="settings-section">
        <h3>Account License</h3>
        <div class="license-overview">
          <p>Manage your ConsignmentGenie subscription, billing, and feature limits</p>
          <button class="btn-primary" routerLink="license">
            Manage License & Billing
          </button>
        </div>
      </div>

      <!-- Owner PIN -->
      <div class="settings-section">
        <h3>Owner PIN (for POS Approvals)</h3>
        <div class="pin-settings" *ngIf="pinSettings()">
          <div class="pin-info">
            <div class="pin-status">
              <span class="pin-label">PIN:</span>
              <span class="pin-display">{{ pinSettings()?.hasPin ? '••••' : 'Not set' }}</span>
              <button class="btn-secondary" (click)="changePin()">
                {{ pinSettings()?.hasPin ? 'Change PIN' : 'Set PIN' }}
              </button>
            </div>

            <div class="pin-usage" *ngIf="pinSettings()?.hasPin">
              <div class="usage-label">Used for:</div>
              <ul class="usage-list">
                <li *ngFor="let usage of pinSettings()?.usedFor">{{ usage }}</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Danger Zone -->
      <div class="settings-section danger-zone">
        <h3>Danger Zone</h3>
        <div class="danger-content">
          <div class="danger-action">
            <div class="danger-info">
              <h4>⚠️ Delete Account</h4>
              <p>This will permanently delete your shop, all inventory, consignor data, and sales history. This action cannot be undone.</p>
            </div>
            <button class="btn-danger" (click)="deleteAccount()">
              Delete Account
            </button>
          </div>
        </div>
      </div>

      <!-- Messages -->
      <div class="messages" *ngIf="successMessage() || errorMessage()">
        <div *ngIf="successMessage()" class="message success">{{ successMessage() }}</div>
        <div *ngIf="errorMessage()" class="message error">{{ errorMessage() }}</div>
      </div>
    </div>
  