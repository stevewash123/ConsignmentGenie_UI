<div class="basic-info-section">
  <header class="section-header">
    <h2 class="section-title">Basic Information</h2>
    <p class="section-description">Essential details about your store and how customers can reach you</p>
  </header>

  <div *ngIf="isLoading()" class="loading">
    <p>Loading store information...</p>
  </div>

  <form [formGroup]="basicInfoForm" (ngSubmit)="saveBasicInfo()" *ngIf="!isLoading()">

    <!-- Store Identity -->
    <section class="form-section">
      <h3>Store Identity</h3>

      <div class="form-group">
        <label for="shopName" class="required">Store Name</label>
        <input
          id="shopName"
          type="text"
          formControlName="ShopName"
          class="form-input"
          [class.error]="isFieldInvalid('ShopName')"
          placeholder="Your Store Name"
          maxlength="100">
        <div class="char-count">{{ getCharacterCount('ShopName') }}/100</div>
        <div class="error-message" *ngIf="isFieldInvalid('ShopName')">
          {{ getFieldError('ShopName') }}
        </div>
      </div>

      <div class="form-group">
        <label for="shopDescription">Store Description</label>
        <textarea
          id="shopDescription"
          formControlName="ShopDescription"
          class="form-textarea"
          placeholder="Brief description of your store and what you offer..."
          rows="4"
          maxlength="500"></textarea>
        <div class="char-count">{{ getCharacterCount('ShopDescription') }}/500</div>
        <div class="error-message" *ngIf="isFieldInvalid('ShopDescription')">
          {{ getFieldError('ShopDescription') }}
        </div>
      </div>
    </section>

    <!-- Contact Information -->
    <section class="form-section">
      <h3>Contact Information</h3>

      <div class="form-row">
        <div class="form-group">
          <label for="shopPhone" class="required">Phone Number</label>
          <input
            id="shopPhone"
            type="tel"
            formControlName="ShopPhone"
            class="form-input"
            [class.error]="isFieldInvalid('ShopPhone')"
            placeholder="(555) 123-4567">
          <div class="error-message" *ngIf="isFieldInvalid('ShopPhone')">
            {{ getFieldError('ShopPhone') }}
          </div>
        </div>

        <div class="form-group">
          <label for="shopEmail" class="required">Email Address</label>
          <input
            id="shopEmail"
            type="email"
            formControlName="ShopEmail"
            class="form-input"
            [class.error]="isFieldInvalid('ShopEmail')"
            placeholder="info@yourstore.com">
          <div class="error-message" *ngIf="isFieldInvalid('ShopEmail')">
            {{ getFieldError('ShopEmail') }}
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="shopWebsite">Website</label>
        <input
          id="shopWebsite"
          type="url"
          formControlName="ShopWebsite"
          class="form-input"
          placeholder="https://www.yourstore.com">
      </div>
    </section>

    <!-- Physical Location -->
    <section class="form-section">
      <h3>Location</h3>

      <div class="form-group">
        <label for="shopAddress1" class="required">Street Address</label>
        <input
          id="shopAddress1"
          type="text"
          formControlName="ShopAddress1"
          class="form-input"
          [class.error]="isFieldInvalid('ShopAddress1')"
          placeholder="123 Main Street">
        <div class="error-message" *ngIf="isFieldInvalid('ShopAddress1')">
          {{ getFieldError('ShopAddress1') }}
        </div>
      </div>

      <div class="form-group">
        <label for="shopAddress2">Address Line 2</label>
        <input
          id="shopAddress2"
          type="text"
          formControlName="ShopAddress2"
          class="form-input"
          placeholder="Suite 100">
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="shopCity" class="required">City</label>
          <input
            id="shopCity"
            type="text"
            formControlName="ShopCity"
            class="form-input"
            [class.error]="isFieldInvalid('ShopCity')"
            placeholder="City">
          <div class="error-message" *ngIf="isFieldInvalid('ShopCity')">
            {{ getFieldError('ShopCity') }}
          </div>
        </div>

        <div class="form-group">
          <label for="shopState" class="required">State</label>
          <input
            id="shopState"
            type="text"
            formControlName="ShopState"
            class="form-input"
            [class.error]="isFieldInvalid('ShopState')"
            placeholder="State">
          <div class="error-message" *ngIf="isFieldInvalid('ShopState')">
            {{ getFieldError('ShopState') }}
          </div>
        </div>

        <div class="form-group">
          <label for="shopZip" class="required">ZIP Code</label>
          <input
            id="shopZip"
            type="text"
            formControlName="ShopZip"
            class="form-input"
            [class.error]="isFieldInvalid('ShopZip')"
            placeholder="12345">
          <div class="error-message" *ngIf="isFieldInvalid('ShopZip')">
            {{ getFieldError('ShopZip') }}
          </div>
        </div>
      </div>

      <div class="checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" formControlName="showAddressPublicly">
          <span>Show address to customers publicly</span>
        </label>
        <div class="help-text">Uncheck if you operate from home or prefer privacy</div>
      </div>
    </section>

    <!-- Form Actions -->
    <div class="form-actions">
      <button type="button" (click)="loadBasicInfo()" class="btn-secondary">
        Reset Changes
      </button>
      <button type="submit" [disabled]="!basicInfoForm.valid || isSaving()" class="btn-primary">
        {{ isSaving() ? 'Saving...' : 'Save Changes' }}
      </button>
    </div>
  </form>

  <!-- Messages -->
  <div *ngIf="successMessage()" class="message success">{{ successMessage() }}</div>
  <div *ngIf="errorMessage()" class="message error">{{ errorMessage() }}</div>
</div>