<div class="basic-info-section">
  <header class="settings-header">
    <h2>Store Basic Information</h2>
    <p>Manage your store's basic details, contact information, and address</p>
  </header>

  <form [formGroup]="basicInfoForm" class="basic-info-form">

    <!-- Store Details -->
    <section class="form-section">
      <h3>Store Details</h3>

      <div class="form-group">
        <label for="storeName">Store Name *</label>
        <input type="text" id="storeName" formControlName="storeName"
               class="form-input" placeholder="Enter your store name">
        <span class="character-count">{{ getCharacterCount('storeName') }}/100</span>
        <div *ngIf="basicInfoForm.get('storeName')?.invalid && basicInfoForm.get('storeName')?.touched"
             class="field-error">
          Store name is required and must be under 100 characters.
        </div>
      </div>

      <div class="form-group">
        <label for="description">Store Description</label>
        <textarea id="description" formControlName="description"
                  class="form-textarea" rows="3"
                  placeholder="Describe your store (optional)"></textarea>
        <span class="character-count">{{ getCharacterCount('description') }}/500</span>
      </div>

      <div class="form-group">
        <label for="website">Website</label>
        <input type="url" id="website" formControlName="website"
               class="form-input" placeholder="https://your-website.com">
        <div *ngIf="basicInfoForm.get('website')?.invalid && basicInfoForm.get('website')?.touched"
             class="field-error">
          Please enter a valid website URL.
        </div>
      </div>
    </section>

    <!-- Store Contact Information & Address -->
    <section class="form-section">
      <h3>Store Contact Information & Address</h3>

      <div class="owner-data-toggle">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="useOwnerContact"
                 (change)="onUseOwnerContactChange()" [ngModelOptions]="{standalone: true}">
          <span class="checkmark"></span>
          Use Owner's Contact Information
        </label>
      </div>

      <div formGroupName="contact" class="contact-fields">
        <div class="form-group">
          <label for="phone">Phone Number *</label>
          <input type="tel" id="phone" formControlName="phone"
                 class="form-input" placeholder="(555) 123-4567">
          <div *ngIf="basicInfoForm.get('contact.phone')?.invalid && basicInfoForm.get('contact.phone')?.touched"
               class="field-error">
            Please enter a valid phone number.
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email Address *</label>
          <input type="email" id="email" formControlName="email"
                 class="form-input" placeholder="store@example.com">
          <div *ngIf="basicInfoForm.get('contact.email')?.invalid && basicInfoForm.get('contact.email')?.touched"
               class="field-error">
            Please enter a valid email address.
          </div>
        </div>
      </div>

      <div class="owner-data-toggle">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="useOwnerAddress"
                 (change)="onUseOwnerAddressChange()" [ngModelOptions]="{standalone: true}">
          <span class="checkmark"></span>
          Use Owner's Address
        </label>
      </div>

      <div formGroupName="address" class="address-fields">
        <div class="form-group">
          <label for="street1">Street Address *</label>
          <input type="text" id="street1" formControlName="street1"
                 class="form-input" placeholder="123 Main Street">
          <div *ngIf="basicInfoForm.get('address.street1')?.invalid && basicInfoForm.get('address.street1')?.touched"
               class="field-error">
            Address line 1 is required.
          </div>
        </div>

        <div class="form-group">
          <label for="street2">Address Line 2</label>
          <input type="text" id="street2" formControlName="street2"
                 class="form-input" placeholder="Suite 100 (optional)">
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="city">City *</label>
            <input type="text" id="city" formControlName="city"
                   class="form-input" placeholder="Your City">
            <div *ngIf="basicInfoForm.get('address.city')?.invalid && basicInfoForm.get('address.city')?.touched"
                 class="field-error">
              City is required.
            </div>
          </div>

          <div class="form-group">
            <label for="state">State *</label>
            <select id="state" formControlName="state" class="form-select">
              <option value="">Select State</option>
              <option *ngFor="let state of states" [value]="state.code">
                {{ state.name }}
              </option>
            </select>
            <div *ngIf="basicInfoForm.get('address.state')?.invalid && basicInfoForm.get('address.state')?.touched"
                 class="field-error">
              State is required.
            </div>
          </div>

          <div class="form-group">
            <label for="zipCode">ZIP Code *</label>
            <input type="text" id="zipCode" formControlName="zipCode"
                   class="form-input" placeholder="12345">
            <div *ngIf="basicInfoForm.get('address.zipCode')?.invalid && basicInfoForm.get('address.zipCode')?.touched"
                 class="field-error">
              Please enter a valid ZIP code.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" formControlName="showPublicly">
            <span class="checkmark"></span>
            Show address publicly on storefront
          </label>
          <small class="form-help">
            When enabled, your store address will be displayed to customers on your public storefront.
          </small>
        </div>
      </div>
    </section>

    <!-- Form Actions -->
    <div class="form-actions">
      <button type="button" (click)="onPreview()" class="btn-secondary">
        Preview Store
      </button>
      <div class="auto-save-status">
        {{ autoSaveStatus() }}
      </div>
    </div>
  </form>

  <!-- Messages -->
  <div class="messages" *ngIf="successMessage() || errorMessage()">
    <div *ngIf="successMessage()" class="message success">{{ successMessage() }}</div>
    <div *ngIf="errorMessage()" class="message error">{{ errorMessage() }}</div>
  </div>
</div>