<div class="forgot-password-page">
  <div class="container">
    <div class="forgot-password-card">
      <div class="header">
        <a routerLink="/login" class="back-link">â† Back to Login</a>
        <h1>Reset Your Password</h1>
      </div>

      <!-- Email form -->
      <div *ngIf="!emailSent()" class="email-form">
        <p class="subtitle">Enter your email address and we'll send you a link to reset your password.</p>

        <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="email">Email Address *</label>
            <input
              id="email"
              type="email"
              formControlName="email"
              [class.error]="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched"
              placeholder="your@email.com">
            <div class="error-message"
                 *ngIf="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
              <span *ngIf="forgotPasswordForm.get('email')?.errors?.['required']">Email is required</span>
              <span *ngIf="forgotPasswordForm.get('email')?.errors?.['email']">Please enter a valid email</span>
            </div>
          </div>

          <button
            type="submit"
            class="submit-btn"
            [disabled]="forgotPasswordForm.invalid || isSubmitting()">
            {{ isSubmitting() ? 'Sending...' : 'Send Reset Link' }}
          </button>
        </form>
      </div>

      <!-- Success message -->
      <div *ngIf="emailSent()" class="success-state">
        <div class="success-icon">ğŸ“§</div>
        <h2>Check Your Email</h2>
        <p class="success-message">{{ successMessage() }}</p>
        <p class="instructions">
          If you don't see the email in a few minutes, check your spam folder or
          <button type="button" class="link-button" (click)="resendEmail()">try again</button>.
        </p>
        <a routerLink="/login" class="back-to-login">Back to Login</a>
      </div>

      <!-- Error Display -->
      <div class="alert error" *ngIf="errorMessage()">
        {{ errorMessage() }}
      </div>
    </div>
  </div>
</div>