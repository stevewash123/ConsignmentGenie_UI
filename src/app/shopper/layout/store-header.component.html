
    <header class="store-header">
      <div class="container">
        <nav class="navbar">
          <!-- Store Logo/Name -->
          <div class="navbar-brand">
            <a [routerLink]="['/shop', storeSlug]" class="brand-link">
              <img *ngIf="storeInfo?.logoUrl" [src]="storeInfo.logoUrl" [alt]="storeInfo.name" class="store-logo">
              <span class="store-name">{{ storeInfo?.name || 'Store' }}</span>
            </a>
          </div>

          <!-- Navigation Links -->
          <div class="navbar-nav">
            <a [routerLink]="['/shop', storeSlug]"
               routerLinkActive="active"
               [routerLinkActiveOptions]="{exact: true}"
               class="nav-link">Shop</a>

            <!-- Category dropdown would go here in Phase 2 -->
            <div class="nav-dropdown" #categoryDropdown>
              <button class="nav-link dropdown-toggle"
                      (click)="toggleDropdown(categoryDropdown)">
                Categories
              </button>
              <div class="dropdown-menu">
                <a [routerLink]="['/shop', storeSlug, 'catalog']" class="dropdown-item">All Items</a>
                <!-- Categories will be populated in Phase 2 -->
              </div>
            </div>
          </div>

          <!-- Search Bar -->
          <div class="search-container">
            <form (ngSubmit)="onSearch()" class="search-form">
              <input
                type="text"
                [(ngModel)]="searchQuery"
                name="searchQuery"
                placeholder="Search items..."
                class="search-input">
              <button type="submit" class="search-button" [disabled]="!searchQuery?.trim()">
                <span class="search-icon">üîç</span>
              </button>
            </form>
          </div>

          <!-- User Actions -->
          <div class="navbar-actions">
            <!-- Cart -->
            <a [routerLink]="['/shop', storeSlug, 'cart']" class="nav-action cart-link">
              <span class="cart-icon">üõí</span>
              <span class="cart-count" *ngIf="cartItemCount > 0">{{ cartItemCount }}</span>
            </a>

            <!-- User Menu -->
            <div class="user-menu" *ngIf="!isAuthenticated">
              <a [routerLink]="['/shop', storeSlug, 'login']" class="nav-action">Sign In</a>
              <a [routerLink]="['/shop', storeSlug, 'register']" class="nav-action register-link">Register</a>
            </div>

            <div class="user-menu" *ngIf="isAuthenticated" #userDropdown>
              <button class="nav-action user-button"
                      (click)="toggleDropdown(userDropdown)">
                <span class="user-icon">üë§</span>
                <span class="user-name">{{ shopperProfile?.fullName || 'Account' }}</span>
              </button>
              <div class="dropdown-menu dropdown-menu-right">
                <a [routerLink]="['/shop', storeSlug, 'account']" class="dropdown-item">My Account</a>
                <a [routerLink]="['/shop', storeSlug, 'account', 'orders']" class="dropdown-item">Order History</a>
                <a [routerLink]="['/shop', storeSlug, 'account', 'settings']" class="dropdown-item">Settings</a>
                <div class="dropdown-divider"></div>
                <button (click)="logout()" class="dropdown-item logout-item">Sign Out</button>
              </div>
            </div>
          </div>

          <!-- Mobile Menu Toggle -->
          <button class="mobile-menu-toggle"
                  (click)="toggleMobileMenu()"
                  [class.active]="showMobileMenu">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </nav>

        <!-- Mobile Navigation -->
        <div class="mobile-nav" [class.show]="showMobileMenu">
          <div class="mobile-search">
            <form (ngSubmit)="onSearch()" class="search-form">
              <input
                type="text"
                [(ngModel)]="searchQuery"
                name="searchQuery"
                placeholder="Search items..."
                class="search-input">
              <button type="submit" class="search-button">üîç</button>
            </form>
          </div>

          <div class="mobile-nav-links">
            <a [routerLink]="['/shop', storeSlug]"
               (click)="closeMobileMenu()"
               class="mobile-nav-link">Shop</a>
            <a [routerLink]="['/shop', storeSlug, 'catalog']"
               (click)="closeMobileMenu()"
               class="mobile-nav-link">All Items</a>
            <a [routerLink]="['/shop', storeSlug, 'cart']"
               (click)="closeMobileMenu()"
               class="mobile-nav-link">
               Cart <span *ngIf="cartItemCount > 0">({{ cartItemCount }})</span>
            </a>
          </div>

          <div class="mobile-user-actions">
            <ng-container *ngIf="!isAuthenticated">
              <a [routerLink]="['/shop', storeSlug, 'login']"
                 (click)="closeMobileMenu()"
                 class="mobile-nav-link">Sign In</a>
              <a [routerLink]="['/shop', storeSlug, 'register']"
                 (click)="closeMobileMenu()"
                 class="mobile-nav-link">Register</a>
            </ng-container>

            <ng-container *ngIf="isAuthenticated">
              <div class="mobile-user-info">
                <span>{{ shopperProfile?.fullName || 'Account' }}</span>
              </div>
              <a [routerLink]="['/shop', storeSlug, 'account']"
                 (click)="closeMobileMenu()"
                 class="mobile-nav-link">My Account</a>
              <a [routerLink]="['/shop', storeSlug, 'account', 'orders']"
                 (click)="closeMobileMenu()"
                 class="mobile-nav-link">Order History</a>
              <a [routerLink]="['/shop', storeSlug, 'account', 'settings']"
                 (click)="closeMobileMenu()"
                 class="mobile-nav-link">Settings</a>
              <button (click)="logout(); closeMobileMenu()"
                      class="mobile-nav-link logout-button">Sign Out</button>
            </ng-container>
          </div>
        </div>
      </div>
    </header>
  