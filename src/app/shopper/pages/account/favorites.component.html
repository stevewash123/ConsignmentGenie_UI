
    <div class="favorites-container">
      <div class="container">
        <div class="page-header">
          <h1>My Favorites</h1>
          <p class="store-name" *ngIf="storeInfo">{{ storeInfo.name }}</p>
          <p class="item-count" *ngIf="favoriteItems.length > 0">{{ favoriteItems.length }} item(s) saved</p>
        </div>

        <div class="favorites-content" *ngIf="favoriteItems.length > 0; else noFavoritesTemplate">
          <div class="favorites-toolbar">
            <div class="sort-options">
              <label for="sortSelect">Sort by:</label>
              <select id="sortSelect" [(ngModel)]="sortBy" (change)="onSortChange()" class="form-select">
                <option value="dateAdded">Date Added</option>
                <option value="name">Name A-Z</option>
                <option value="price-low">Price: Low to High</option>
                <option value="price-high">Price: High to Low</option>
              </select>
            </div>

            <div class="view-options">
              <button
                class="btn btn-outline-secondary btn-sm"
                [class.active]="viewMode === 'grid'"
                (click)="setViewMode('grid')">
                Grid
              </button>
              <button
                class="btn btn-outline-secondary btn-sm"
                [class.active]="viewMode === 'list'"
                (click)="setViewMode('list')">
                List
              </button>
            </div>
          </div>

          <div class="favorites-grid" [class.list-view]="viewMode === 'list'">
            <div class="favorite-card" *ngFor="let item of sortedItems">
              <div class="item-image">
                <img
                  [src]="item.imageUrl || '/assets/placeholder-item.jpg'"
                  [alt]="item.name"
                  class="item-img"
                  (error)="onImageError($event)">
                <div class="item-overlay" *ngIf="!item.isAvailable">
                  <span class="sold-badge">SOLD</span>
                </div>
                <button
                  class="favorite-btn active"
                  (click)="removeFromFavorites(item)"
                  title="Remove from favorites">
                  ‚ù§Ô∏è
                </button>
              </div>

              <div class="item-details">
                <h3 class="item-name">{{ item.name }}</h3>
                <p class="item-category">{{ item.category }}</p>
                <p class="item-description">{{ item.description }}</p>

                <div class="item-meta">
                  <span class="date-added">Added {{ item.dateAdded | date:'shortDate' }}</span>
                </div>

                <div class="item-footer">
                  <span class="item-price">${{ item.price | number:'1.2-2' }}</span>
                  <div class="item-actions">
                    <button
                      class="btn btn-primary btn-sm"
                      [disabled]="!item.isAvailable"
                      (click)="addToCart(item)">
                      {{ item.isAvailable ? 'Add to Cart' : 'Sold Out' }}
                    </button>
                    <button
                      class="btn btn-outline-secondary btn-sm"
                      (click)="shareItem(item)">
                      Share
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="favorites-actions" *ngIf="favoriteItems.length > 1">
            <button class="btn btn-outline-danger" (click)="clearAllFavorites()">
              Clear All Favorites
            </button>
          </div>
        </div>

        <ng-template #noFavoritesTemplate>
          <div class="no-favorites">
            <div class="empty-icon">üíù</div>
            <h2>No favorites yet</h2>
            <p>Save items you love by clicking the heart icon when browsing our store.</p>
            <button class="btn btn-primary" [routerLink]="['/shop', storeSlug]">
              Start Shopping
            </button>
          </div>
        </ng-template>

        <div class="favorites-tips">
          <div class="tips-card">
            <h3>üí° Did you know?</h3>
            <ul>
              <li>Items in your favorites are saved across devices when you're signed in</li>
              <li>You'll be notified if the price drops on favorited items</li>
              <li>Use favorites to create a wishlist for special occasions</li>
              <li>Share your favorite items with friends and family</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  