
    <div class="register-container">
      <div class="register-card">
        <div class="register-header">
          <div class="store-branding" *ngIf="storeInfo">
            <img *ngIf="storeInfo.logoUrl" [src]="storeInfo.logoUrl" [alt]="storeInfo.name" class="store-logo">
            <h1 class="store-name">{{ storeInfo.name }}</h1>
          </div>
          <h2 class="register-title">Create Your Account</h2>
          <p class="register-subtitle">Start shopping with us today!</p>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
          <div class="form-group">
            <label for="fullName">Full Name *</label>
            <input
              id="fullName"
              type="text"
              formControlName="fullName"
              class="form-control"
              [class.is-invalid]="isFieldInvalid('fullName')"
              placeholder="Enter your full name"
              autocomplete="name">
            <div class="invalid-feedback" *ngIf="isFieldInvalid('fullName')">
              <span *ngIf="registerForm.get('fullName')?.errors?.['required']">Full name is required</span>
              <span *ngIf="registerForm.get('fullName')?.errors?.['maxlength']">Full name must be less than 200 characters</span>
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email *</label>
            <input
              id="email"
              type="email"
              formControlName="email"
              class="form-control"
              [class.is-invalid]="isFieldInvalid('email')"
              placeholder="Enter your email"
              autocomplete="email">
            <div class="invalid-feedback" *ngIf="isFieldInvalid('email')">
              <span *ngIf="registerForm.get('email')?.errors?.['required']">Email is required</span>
              <span *ngIf="registerForm.get('email')?.errors?.['email']">Please enter a valid email</span>
              <span *ngIf="registerForm.get('email')?.errors?.['maxlength']">Email must be less than 255 characters</span>
            </div>
          </div>

          <div class="form-group">
            <label for="phone">Phone</label>
            <input
              id="phone"
              type="tel"
              formControlName="phone"
              class="form-control"
              [class.is-invalid]="isFieldInvalid('phone')"
              placeholder="(555) 123-4567"
              autocomplete="tel">
            <div class="invalid-feedback" *ngIf="isFieldInvalid('phone')">
              <span *ngIf="registerForm.get('phone')?.errors?.['maxlength']">Phone must be less than 20 characters</span>
              <span *ngIf="registerForm.get('phone')?.errors?.['pattern']">Please enter a valid phone number</span>
            </div>
          </div>

          <div class="form-group">
            <label for="password">Password *</label>
            <div class="password-input">
              <input
                id="password"
                [type]="showPassword ? 'text' : 'password'"
                formControlName="password"
                class="form-control"
                [class.is-invalid]="isFieldInvalid('password')"
                placeholder="Enter your password"
                autocomplete="new-password">
              <button
                type="button"
                class="password-toggle"
                (click)="togglePasswordVisibility()"
                [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'">
                {{ showPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
              </button>
            </div>
            <div class="password-requirements">
              <small class="form-text">At least 8 characters</small>
            </div>
            <div class="invalid-feedback" *ngIf="isFieldInvalid('password')">
              <span *ngIf="registerForm.get('password')?.errors?.['required']">Password is required</span>
              <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Password must be at least 8 characters</span>
            </div>
          </div>

          <div class="form-group">
            <label for="confirmPassword">Confirm Password *</label>
            <div class="password-input">
              <input
                id="confirmPassword"
                [type]="showConfirmPassword ? 'text' : 'password'"
                formControlName="confirmPassword"
                class="form-control"
                [class.is-invalid]="isFieldInvalid('confirmPassword')"
                placeholder="Confirm your password"
                autocomplete="new-password">
              <button
                type="button"
                class="password-toggle"
                (click)="toggleConfirmPasswordVisibility()"
                [attr.aria-label]="showConfirmPassword ? 'Hide password' : 'Show password'">
                {{ showConfirmPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
              </button>
            </div>
            <div class="invalid-feedback" *ngIf="isFieldInvalid('confirmPassword')">
              <span *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">Please confirm your password</span>
              <span *ngIf="registerForm.get('confirmPassword')?.errors?.['mismatch']">Passwords do not match</span>
            </div>
          </div>

          <div class="form-group-checkbox">
            <input
              id="emailNotifications"
              type="checkbox"
              formControlName="emailNotifications"
              class="form-check-input">
            <label for="emailNotifications" class="form-check-label">
              Email me about new arrivals and sales
            </label>
          </div>

          <div class="error-message" *ngIf="errorMessage">
            <div class="alert alert-danger">
              {{ errorMessage }}
            </div>
          </div>

          <button
            type="submit"
            class="btn btn-primary btn-block"
            [disabled]="registerForm.invalid || isShopperRegisterLoading()">
            <span *ngIf="isShopperRegisterLoading()" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            {{ isShopperRegisterLoading() ? 'Creating Account...' : 'Create Account' }}
          </button>
        </form>

        <div class="register-footer">
          <div class="divider">
            <span>or</span>
          </div>

          <p class="login-prompt">
            Already have an account?
            <a [routerLink]="['/shop', storeSlug, 'login']" class="login-link">Sign In</a>
          </p>
        </div>
      </div>
    </div>
  